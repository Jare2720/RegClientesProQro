<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registro Clientes</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- ENCABEZADO CON IMAGEN, LOGO Y TEXTO ENCIMA -->
  <div class="relative w-full h-[300px]">
    <img src="https://raw.githubusercontent.com/Jare2720/RegClientesProQro/refs/heads/main/Portada%20ppal%20ProQro.jpg" 
         alt="Portada" class="absolute inset-0 w-full h-full object-cover z-0" />

    <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center px-6 md:px-20 z-10">
      <img src="https://raw.githubusercontent.com/Jare2720/RegClientesProQro/main/Pag%20ppal%20-%20Logo%20redondo.png" 
           alt="Logo" class="w-24 h-24 md:w-32 md:h-32 mr-6"/>

      <div class="text-white">
        <h1 class="text-xl md:text-2xl font-semibold leading-tight">SERVICIO de ASESORÍA</h1>
        <h2 class="text-xl md:text-2xl font-semibold leading-tight">INMOBILIARIA</h2>
        <p class="text-md md:text-lg mt-1">¡Juntos encontraremos el hogar de tus sueños!</p>
      </div>
    </div>
  </div>

  <!-- FORMULARIO (TAL CUAL YA FUNCIONABA) -->
  <div class="max-w-4xl mx-auto mt-10 bg-white p-8 rounded-lg shadow-lg">
    <form id="registroForm">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-gray-700">Nombre</label>
          <input type="text" name="Nombre" placeholder="Nombre completo" required class="w-full border rounded px-3 py-2 mt-1"/>
        </div>
        <div>
          <label class="block text-gray-700">Teléfono</label>
          <input type="tel" name="Teléfono" id="telefono" placeholder="Ej. 5551234567" required class="w-full border rounded px-3 py-2 mt-1"/>
          <p id="telefonoError" class="text-red-500 text-sm mt-1 hidden">Ingresa un teléfono válido de 10 dígitos</p>
        </div>
        <div>
          <label class="block text-gray-700">Correo</label>
          <input type="email" name="Correo" id="correo" placeholder="correo@ejemplo.com" required class="w-full border rounded px-3 py-2 mt-1"/>
          <p id="correoError" class="text-red-500 text-sm mt-1 hidden">Ingresa un correo válido</p>
        </div>
        <div>
          <label class="block text-gray-700">Tipo de propiedad</label>
          <select name="Tipo de propiedad" required class="w-full border rounded px-3 py-2 mt-1">
            <option value="" disabled selected>Selecciona una opción</option>
            <option value="Casa">Casa</option>
            <option value="Departamento">Departamento</option>
            <option value="Terreno">Terreno</option>
            <option value="Comercial">Comercial</option>
          </select>
        </div>
        <div>
          <label class="block text-gray-700">Zona de interés</label>
          <input type="text" name="Zona de interés" placeholder="Ej. Zibatá, Centro, El Refugio" class="w-full border rounded px-3 py-2 mt-1"/>
        </div>
        <div>
          <label class="block text-gray-700">Presupuesto</label>
          <input type="text" name="Presupuesto" placeholder="Ej. 2,000,000" class="w-full border rounded px-3 py-2 mt-1"/>
        </div>
        <div>
          <label class="block text-gray-700">Origen</label>
          <select name="Origen" required class="w-full border rounded px-3 py-2 mt-1">
            <option value="" disabled selected>Selecciona una opción</option>
            <option value="Facebook">Facebook</option>
            <option value="Instagram">Instagram</option>
            <option value="Sitio web">Sitio web</option>
            <option value="Referido">Referido</option>
            <option value="Lona">Lona</option>
            <option value="Otro">Otro</option>
          </select>
        </div>
        <div>
          <label class="block text-gray-700">Motivo</label>
          <select name="Motivo" required class="w-full border rounded px-3 py-2 mt-1">
            <option value="" disabled selected>Selecciona una opción</option>
            <option value="Vivir">Vivir</option>
            <option value="Invertir">Invertir</option>
          </select>
        </div>
        <div>
          <label class="block text-gray-700">Tiempo</label>
          <select name="Tiempo" required class="w-full border rounded px-3 py-2 mt-1">
            <option value="" disabled selected>Selecciona una opción</option>
            <option value="Inmediato">Inmediato</option>
            <option value="1-3 meses">1-3 meses</option>
            <option value="3-6 meses">3-6 meses</option>
            <option value="Más de 6 meses">Más de 6 meses</option>
          </select>
        </div>
        <div class="md:col-span-2">
          <label class="block text-gray-700">Comentarios</label>
          <textarea name="Comentarios" rows="3" placeholder="Agrega detalles adicionales" class="w-full border rounded px-3 py-2 mt-1"></textarea>
        </div>
      </div>
      <button type="submit" class="mt-6 bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded">
        Enviar
      </button>
      <p id="successMessage" class="text-green-600 font-semibold mt-4 hidden">Formulario enviado con éxito</p>
    </form>
  </div>

  <!-- SCRIPT DE VALIDACIÓN Y ENVÍO -->
  <script>
    document.getElementById("registroForm").addEventListener("submit", function(event) {
      event.preventDefault();

      const telefono = document.getElementById("telefono").value.trim();
      const correo = document.getElementById("correo").value.trim();
      let valid = true;

      // Validación teléfono
      if (!/^\d{10}$/.test(telefono)) {
        document.getElementById("telefonoError").classList.remove("hidden");
        valid = false;
      } else {
        document.getElementById("telefonoError").classList.add("hidden");
      }

      // Validación correo
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(correo)) {
        document.getElementById("correoError").classList.remove("hidden");
        valid = false;
      } else {
        document.getElementById("correoError").classList.add("hidden");
      }

      if (valid) {
        const formData = new FormData(this);
        fetch('https://script.google.com/macros/s/AKfycbwvVx28TONBRyXJalzfraj8OErDPRrcVQAtll7sTGBWQKbDagUDRk6amr6QHJjsd-PF/exec', {
          method: 'POST',
          body: formData
        })
        .then(response => {
          if (response.ok) {
            document.getElementById("successMessage").classList.remove("hidden");
            this.reset();
            setTimeout(() => {
              document.getElementById("successMessage").classList.add("hidden");
            }, 4000);
          } else {
            alert("Hubo un error al enviar el formulario.");
          }
        })
        .catch(() => alert("Error de conexión al enviar el formulario."));
      }
    });
  </script>
</body>
</html>

