<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro de Clientes</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- ENCABEZADO CON IMAGEN DE FONDO Y LOGO + TEXTO ENCIMA -->
  <div class="relative w-full h-[300px] md:h-[400px] bg-cover bg-center flex items-center justify-center" style="background-image: url('https://raw.githubusercontent.com/Jare2720/RegClientesProQro/refs/heads/main/Portada%20ppal%20ProQro.jpg');">
    <!-- Capa semitransparente para legibilidad -->
    <div class="absolute inset-0 bg-black bg-opacity-40"></div>

    <!-- Contenido encima de la imagen -->
    <div class="relative flex items-center space-x-4 px-4">
      <!-- Logo -->
      <img src="https://github.com/Jare2720/RegClientesProQro/blob/main/Pag%20ppal%20-%20Logo%20redondo.png?raw=true" alt="Logo" class="h-24 md:h-32 rounded-full border-4 border-white shadow-lg" />

      <!-- Texto -->
      <div class="text-white text-center md:text-left">
        <h1 class="text-lg md:text-xl font-bold leading-tight">SERVICIO de ASESORÍA</h1>
        <h2 class="text-lg md:text-xl font-bold leading-tight">INMOBILIARIA</h2>
        <p class="text-sm md:text-base">Juntos encontraremos el hogar de tus sueños!</p>
      </div>
    </div>
  </div>

  <!-- FORMULARIO (sin cambios) -->
  <div class="max-w-3xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md">
    <form id="registroForm">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input type="text" name="Nombre" placeholder="Nombre completo" class="border p-2 rounded" required>
        <input type="tel" name="Teléfono" id="telefono" placeholder="Teléfono" class="border p-2 rounded" required>
        <input type="email" name="Correo" id="correo" placeholder="Correo electrónico" class="border p-2 rounded" required>
        <select name="Tipo de propiedad" class="border p-2 rounded" required>
          <option value="" disabled selected hidden>Selecciona tipo de propiedad</option>
          <option value="Casa">Casa</option>
          <option value="Departamento">Departamento</option>
          <option value="Terreno">Terreno</option>
          <option value="Comercial">Comercial</option>
        </select>
        <input type="text" name="Zona de interés" placeholder="Zona de interés" class="border p-2 rounded" required>
        <input type="text" name="Presupuesto" placeholder="Presupuesto estimado" class="border p-2 rounded" required>
        <select name="Origen" class="border p-2 rounded" required>
          <option value="" disabled selected hidden>¿Cómo nos conoció?</option>
          <option value="Facebook">Facebook</option>
          <option value="Instagram">Instagram</option>
          <option value="Sitio web">Sitio web</option>
          <option value="Referido">Referido</option>
          <option value="EasyBroker">EasyBroker</option>
          <option value="Proppit">Proppit</option>
          <option value="Lona">Lona</option>
          <option value="Otro">Otro</option>
        </select>
        <select name="Motivo" class="border p-2 rounded" required>
          <option value="" disabled selected hidden>Motivo de búsqueda</option>
          <option value="Vivir">Vivir</option>
          <option value="Invertir">Invertir</option>
        </select>
        <select name="Tiempo" class="border p-2 rounded" required>
          <option value="" disabled selected hidden>¿En cuánto tiempo desea comprar?</option>
          <option value="Inmediatamente">Inmediatamente</option>
          <option value="1 a 3 meses">1 a 3 meses</option>
          <option value="3 a 6 meses">3 a 6 meses</option>
          <option value="Más de 6 meses">Más de 6 meses</option>
        </select>
      </div>
      <textarea name="Comentarios" placeholder="Comentarios adicionales" class="border p-2 rounded w-full mt-4"></textarea>
      <button type="submit" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Enviar</button>
    </form>

    <!-- Mensaje de éxito -->
    <div id="mensajeExito" class="hidden mt-4 p-4 bg-green-100 text-green-800 rounded"></div>
  </div>

  <!-- Script de validación y envío -->
  <script>
    const form = document.getElementById("registroForm");
    const mensajeExito = document.getElementById("mensajeExito");
    const telefono = document.getElementById("telefono");
    const correo = document.getElementById("correo");

    function validarTelefono(valor) {
      return /^\d{10,}$/.test(valor);
    }

    function validarCorreo(valor) {
      return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(valor);
    }

    telefono.addEventListener("input", () => {
      telefono.classList.toggle("border-red-500", !validarTelefono(telefono.value));
    });

    correo.addEventListener("input", () => {
      correo.classList.toggle("border-red-500", !validarCorreo(correo.value));
    });

    form.addEventListener("submit", function (event) {
      event.preventDefault();

      if (!validarTelefono(telefono.value)) {
        telefono.classList.add("border-red-500");
        return;
      }

      if (!validarCorreo(correo.value)) {
        correo.classList.add("border-red-500");
        return;
      }

      const datos = new FormData(form);
      fetch("https://script.google.com/macros/s/AKfycbwvVx28TONBRyXJalzfraj8OErDPRrcVQAtll7sTGBWQKbDagUDRk6amr6QHJjsd-PF/exec", {
        method: "POST",
        body: datos,
      })
        .then((res) => res.ok ? res.text() : Promise.reject(res))
        .then(() => {
          mensajeExito.textContent = "¡Registro enviado con éxito!";
          mensajeExito.classList.remove("hidden");
          form.reset();
          setTimeout(() => mensajeExito.classList.add("hidden"), 5000);
        })
        .catch(() => {
          mensajeExito.textContent = "Hubo un error. Inténtalo de nuevo.";
          mensajeExito.classList.remove("hidden");
        });
    });
  </script>
</body>
</html>

